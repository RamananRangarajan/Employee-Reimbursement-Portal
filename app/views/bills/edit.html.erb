<div class="card">
  <h1 class="card-header">Edit Bill</h1>

  <%= form_with model: @bill, local: true do |form| %>
    <% if @bill.errors.any? %>
      <div class="alert">
        <h3><%= pluralize(@bill.errors.count, "error") %> prohibited this bill from being saved:</h3>
        <ul>
          <% @bill.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <%= form.label :amount %>
      <%= form.number_field :amount, step: 0.01, min: 0.01, required: true %>
    </div>

    <div class="form-group">
      <%= form.label :bill_type, "Type" %>
      <%= form.select :bill_type, options_for_select([['Food', 'food'], ['Travel', 'travel'], ['Others', 'others']], @bill.bill_type), { prompt: 'Select bill type' }, { required: true } %>
    </div>

    <% if current_user.admin? %>
      <div class="form-group">
        <%= form.label :status %>
        <%= form.select :status, options_for_select([['Pending', 'pending'], ['Approved', 'approved'], ['Rejected', 'rejected']], @bill.status), { prompt: 'Select status' }, { required: true } %>
      </div>
    <% end %>

    <div class="form-group">
      <%= form.submit "Update Bill", class: "btn btn-success" %>
      <%= link_to "Cancel", @bill, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>

